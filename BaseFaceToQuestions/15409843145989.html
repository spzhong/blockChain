<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
    
  二叉树 - 
  
  </title>
  
  
  <link href="atom.xml" rel="alternate" title="" type="application/atom+xml">
    <link rel="stylesheet" href="asset/css/foundation.min.css" />
    <link rel="stylesheet" href="asset/css/docs.css" />
    <script src="asset/js/vendor/modernizr.js"></script>
    <script src="asset/js/vendor/jquery.js"></script>
  <script src="asset/highlightjs/highlight.pack.js"></script>
  <link href="asset/highlightjs/styles/github.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script>hljs.initHighlightingOnLoad();</script>
<script type="text/javascript">
  function before_search(){
    var searchVal = 'site: ' + document.getElementById('search_input').value;
    document.getElementById('search_q').value = searchVal;
    return true;
  }
</script>

<link rel="stylesheet" type="text/css" href="asset/sample-custom-html-charts/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="asset/sample-custom-html-charts/mermaid.css">
<!--        <link rel="stylesheet" type="text/css" href="asset/sample-custom-html-charts/mermadidstyle.css">-->
            <script type="text/javascript" src="asset/sample-custom-html-charts/jquery_plantuml/jquery.js"></script>
            <script type="text/javascript" src="asset/sample-custom-html-charts/jquery_plantuml/rawdeflate.js"></script>
            <script type="text/javascript" src="asset/sample-custom-html-charts/jquery_plantuml/encode64.js"></script>
            <script src="asset/sample-custom-html-charts/echarts.common.min.js"></script>
            <script src="asset/sample-custom-html-charts/mermaid.min.js"></script>
            <script type="text/javascript">
                $(function(){
                  var mwebii=0;
                  var mwebChartEleId = 'mweb-chart-ele-';
                  $('pre>code').each(function(){
                                     mwebii++;
                                     var eleiid = mwebChartEleId+mwebii;
                                     if($(this).hasClass('language-mermaid')){
                                     var ele = $(this).addClass('nohighlight').parent();
                                     ele.hide();
                                     $('<div id="'+eleiid+'"></div>').addClass('mermaid').html($(this).text()).insertAfter(ele);
                                     }else if($(this).hasClass('language-plantuml')){
                                     var ele = $(this).addClass('nohighlight').parent();
                                     ele.hide();
                                     var str = unescape(encodeURIComponent($(this).text()));
                                     var imgURL = "http://www.plantuml.com/plantuml/svg/"+encode64(deflate(str,9));
                                     var newEle = $('<div id="'+eleiid+'"><img src="'+imgURL+'" /></div>').insertAfter(ele);
                                     }else if($(this).hasClass('language-js-echarts')){
                                     var ele = $(this).addClass('nohighlight').parent();
                                     ele.hide();
                                     $('<div style="width: 100%;height:400px;" id="'+eleiid+'"></div>').insertAfter(ele);
                                     var myChart = echarts.init(document.getElementById(eleiid));
                                     try  {
                                     eval($(this).text());
                                     myChart.setOption(option);
                                     }catch(exception) {}
                                     }
                                     });
                  
                  mermaid.init({noteMargin: 10}, ".mermaid");
                  });
                </script>



  </head>
  <body class="antialiased hide-extras">
    
    <div class="marketing off-canvas-wrap" data-offcanvas>
      <div class="inner-wrap">


<nav class="top-bar docs-bar hide-for-small" data-topbar>


  <section class="top-bar-section">
  <div class="row">
      <div style="position: relative;width:100%;"><div style="position: absolute; width:100%;">
        <ul id="main-menu" class="left">
        
        <li id=""><a target="self" href="index.html">Home</a></li>
        
        <li id=""><a target="_self" href="archives.html">Archives</a></li>
        
        </ul>

        <ul class="right" id="search-wrap">
          <li>
<form target="_blank" onsubmit="return before_search();" action="https://google.com/search" method="get">
    <input type="hidden" id="search_q" name="q" value="" />
    <input tabindex="1" type="search" id="search_input"  placeholder="Search"/>
</form>
</li>
          </ul>
      </div></div>
  </div>
  </section>

</nav>

        <nav class="tab-bar show-for-small">
  <a href="javascript:void(0)" class="left-off-canvas-toggle menu-icon">
    <span> &nbsp; </span>
  </a>
</nav>

<aside class="left-off-canvas-menu">
      <ul class="off-canvas-list">
        
        <li><a target="self" href="index.html">Home</a></li>
        
        <li><a target="_self" href="archives.html">Archives</a></li>
        

    <li><label>Categories</label></li>

        
            <li><a href="xunlei.html">迅雷</a></li>
        
            <li><a href="other.html">其它</a></li>
        
            <li><a href="mindcase.html">有意思的参考</a></li>
         

      </ul>
    </aside>

<a class="exit-off-canvas" href="#"></a>


        <section id="main-content" role="main" class="scroll-container">
        
       

 <script type="text/javascript">
  $(function(){
    $('#menu_item_index').addClass('is_active');
  });
</script>
<div class="row">
  <div class="large-8 medium-8 columns">
      <div class="markdown-body article-wrap">
       <div class="article">
          
          <h1>二叉树</h1>
     
        <div class="read-more clearfix">
          <span class="date">2018/10/31</span>

          <span>posted in&nbsp;</span> 
          
              <span class="posted-in"><a href='%E6%A0%91.html'>树</a></span>
           
         
          <span class="comments">
            

            
          </span>

        </div>
      </div><!-- article -->

      <div class="article-content">
      <ul>
<li>
<a href="#toc_0">特点</a>
</li>
<li>
<a href="#toc_1">性质</a>
</li>
<li>
<a href="#toc_2">存储结构</a>
</li>
<li>
<a href="#toc_3">遍历</a>
</li>
<li>
<a href="#toc_4">二叉树的基础</a>
<ul>
<li>
<a href="#toc_5">创建二叉排序树</a>
<ul>
<li>
<a href="#toc_6">递归方式的创建</a>
</li>
<li>
<a href="#toc_7">非递归方式的创建</a>
</li>
</ul>
</li>
<li>
<a href="#toc_8">二叉树中某个位置的节点</a>
</li>
</ul>
</li>
<li>
<a href="#toc_9">常见题目</a>
<ul>
<li>
<a href="#toc_10">求二叉树中的节点个数</a>
</li>
<li>
<a href="#toc_11">求二叉树中的深度</a>
</li>
<li>
<a href="#toc_12">前序遍历，中序遍历，后续遍历</a>
</li>
<li>
<a href="#toc_13">分层遍历二叉树（按层次从上往下，从左边往右）</a>
</li>
<li>
<a href="#toc_14">将二叉树查找树变为有序的双向链表</a>
</li>
</ul>
</li>
</ul>


<p>首先在有序的数组中，可以快速的找到特定的值，但是如果插入一条新数据，就必须找到插入的位置,然后将比新数据项大的数据项向后移动一位，来给新的数据项腾出空间，删除也是，这样移动很是费时，显而易见，如果要做很多的插入和删除的操作，就不应该用有序的数组。</p>

<p>另外一方面，链表中可以快速的添加和删除某个数据项，但是在链表中查找数据项可不容易，必须从头开始访问链表的每一数据项，知道知道该数据项为止，这个过程很慢</p>

<p>树这种结构，既能像链表那样快速的插入和删除，又能快速的查找；<br/>
实现一种特殊的树，二叉（搜索）树；</p>

<h2 id="toc_0">特点</h2>

<p>1.插入：一个节点的左叶子节点的关键字值小于这个节点，右子节点的关键字值大于或等于这个节点。</p>

<p>2.删除：删除节点要从过年查找要删除的节点开始入手，首先找到节点，这个要删除的节点可能有以下三种情况需要考虑（<br/>
    * 该节点是叶节点，没有子节点<br/>
    * 该节点有一个子节点<br/>
    * 该节点有两个子节点<br/>
）</p>

<h2 id="toc_1">性质</h2>

<p>关于二叉树，包含的一些性质</p>

<ul>
<li>在二叉树中，第i层上至多有2<sup>i-1</sup> 个节点 （i&gt;=1）</li>
<li>深度为k多二叉树最多有2<sup>k-1</sup> -1个节点 （k&gt;=1）</li>
<li>具有n个节点的完全二叉树的深度为log2<sup>n</sup> + 1</li>
</ul>

<h2 id="toc_2">存储结构</h2>

<pre><code class="language-mermaid">    graph TD
    A[8] --&gt; B[3]
    A[8] --&gt; C[10]
    B[3] --&gt; d[1]
    B[3] --&gt; e[6]
    C[10] --&gt; f[no]
    C[10] --&gt; kl[14]
    e --&gt; g[4]
    e --&gt; m[7]
    kl --&gt; k[13]
    kl --&gt; kn[no]
    d[1] --&gt; hj[no]
    d[1] --&gt; hj2[no]
</code></pre>

<p>上面的完全二叉树对应存储结构有两种：<br/>
 1.顺序存储结构<br/>
 2.链式存储结构</p>

<p>1.首先来说，顺序存储结构</p>

<table>
<thead>
<tr>
<th>8</th>
<th>3</th>
<th>10</th>
<th>1</th>
<th>6</th>
<th>^</th>
<th>14</th>
<th>^</th>
<th>^</th>
<th>4</th>
<th>7</th>
<th>13</th>
<th>^</th>
</tr>
</thead>

<tbody>
</tbody>
</table>

<p>在顺序存储结构中，^ 表示的是没有节点，从顺序存储可以看出，若出现大量^ ， 则对空间是一种极大的浪费。</p>

<p>2.在二叉树中，每一个节点至多存在左右子树上，因此在链式存储结构中，每一节点的结构为</p>

<table>
<thead>
<tr>
<th>left_child</th>
<th>data</th>
<th>right_child</th>
</tr>
</thead>

<tbody>
</tbody>
</table>

<p>其中data为数据域，left_child和right_child称为指阵域，分别指向左孩子和右孩子。</p>

<pre><code class="language-cpp">typedef struct Node
{
    int data;//数据域的值
    struct Node *left;//左孩子
    struct Node *right;//右孩子
}
</code></pre>

<h2 id="toc_3">遍历</h2>

<ul>
<li> 前序遍历 (8 3 1 6 4 7 10 14 13)</li>
<li> 中序遍历 (1 3 4 6 7 8 10 13 14)</li>
<li> 后序遍历 (1 4 7 6 3 13 14 10 8)</li>
<li> 层次遍历 (8 3 10 1 6 14 4 7 13)</li>
</ul>

<p>前序遍历，首先遍历根节点，其次遍历左孩子，再遍历右孩子</p>

<pre><code class="language-cpp">void pre_traversal(Node *p)
{
    if (p != null)
    {
        printf(&quot;%d\t&quot;,p-&gt;data);
        pre_traversal(p-&gt;left);
        prt_rraversal(p-&gt;right);
    }
}
</code></pre>

<p>中序遍历，首先遍历左子树，其次遍历父节点，最后遍历右子树</p>

<pre><code class="language-cpp">void mid_traversal(Node *p)
{
    if (p != null)
    {
        mid_traversal(p-&gt;left);
        printf(&quot;%d\t&quot;,p-&gt;data);
        mid_traversal(p-&gt;right);
    }
}
</code></pre>

<p>后序遍历，先遍历左子，其次是右子树，最后是父节点</p>

<pre><code class="language-cpp">void last_traversal(Node *p)
{
    if (p != null)
    {
        last_traversal(p-&gt;left);
        last_traversal(p-&gt;right);
        printf(&quot;%d\t&quot;,p-&gt;data);
    }
}
</code></pre>

<p>层次遍历，需要使用链表存储每一层的节点，同时遍历完一个节点，将其左右节点增加链表中</p>

<pre><code class="language-cpp">void lever_traversal(Node *p)
{
    // 使用队列
    list&lt;Node *&gt; t;
    if (p != null)
    {
        t.push_back(p);
    }
    while (t.size &gt; 0)
    {
        printf(&quot;%d\t&quot;,(t.front())-&gt;data);
        if ((t.front())-&gt;left != null)
        {
            t.push_back((t.front())-&gt;left);
        }
        if ((t.front())-&gt;right != null)
        {
            t.push_back((t.front())-&gt;right);        
        }
        t.pop_front();
    }
}
</code></pre>

<h2 id="toc_4">二叉树的基础</h2>

<h3 id="toc_5">创建二叉排序树</h3>

<p>首先要了解二叉树的4种遍历的方式（前序，中序，后序，层次）</p>

<h4 id="toc_6">递归方式的创建</h4>

<ul>
<li>1.按照层次的方式创建</li>
</ul>

<pre><code class="language-cpp">Node* createTreeWithValues(int *values , int n , const int LEN)
{
    //给一个终止的条件
    if (n &gt;= LEN)
    {
        return NULL;
    }
    else
    {
        Node *preNode = new Node();
        preNode-&gt;data = values[n];
        preNode-&gt;left = createTreeWithValues(values , 2*n+1, LEN);
        preNode-&gt;right = createTreeWithValues(values , 2*n+2 ,LEN);
        return preNode;
    }
} 
</code></pre>

<ul>
<li>2.根据有序的数组，创建一个基于中间值的分割树左小，右边大</li>
</ul>

<pre><code class="language-cpp">void createTreeWithValues(Node *&amp;pRoot, int *values , int start , int end)
{
     if (start &gt; end)
    {
        return;
    }
    int mid = start + (end-start)/2;
    pRoot = new Node();
    pRoot-&gt;data = values[mid];
    createTreeWithValues(pRoot-&gt;left, values, start,mid-1);
    createTreeWithValues(pRoot-&gt;right, values, mid+1, end);     
    return pRoot;
} 
</code></pre>

<ul>
<li>3.根据一个无序的数组，创建一个有序的二叉树，满足的条件是（左&lt;根,根&lt;右）</li>
</ul>

<pre><code class="language-cpp">Node* createTree()
{
    int values [10] = {8,3,2,1,6,14,4,7,13,15};
    int len = sizof(values)/sizof(values[0]);
    Node *root = NULL;
    for (int i = 0;i &lt; len; i++)
    {
        root = addTreeNode(root,values[i]);
    }
    return root;
}

Node * addTreeNode(Node *root, int value)
{
    if(root == NULL)
    {
        root = new Node();
        root-&gt;data = value;
    }else{
        if (value &lt; root-&gt;data)
        {
            root-&gt;left = addTreeNode(root-&gt;left,value);
        }
        if (value &gt; root-&gt;data)
        {
            root-&gt;right = addTreeNode(root-&gt;right,value);
        }
    }
    return root;
}
</code></pre>

<ul>
<li>4.根据一个数组，创建一个二叉树，使得所有的元素值存放在叶子节点上</li>
</ul>

<pre><code class="language-cpp">//获取总节点数
int allTotal(int n)
{
    if (pow(2,n-1) &gt; 8) {
        return 0;
    }
    return pow(2,n-1) + allTotal(n+1);
}

//创建一个树
Node * createMerkleTree()
{
    int values [8] = {8,3,2,1,6,14,4,7};
    int len = sizeof(values)/sizeof(values[0]);
    int allK = allTotal(0);
    
    Node *leafs[allK];
    Node *root = NULL;
    for (int i = 0;i &lt; allK; i++)
    {
        Node *leafNode = new Node();
        if (i &lt; allK-len) {
            leafNode-&gt;data = NULL;
        }else{
            leafNode-&gt;data = values[i-(allK-len)];
        }
        leafs[i] = leafNode;
    }
    
    
    //2n+1,为左叶子节点，2n+2,为右叶子节点
    for(int i = 0; i &lt; (allK)/2; i++)
    {
        if (2*i+1 &lt; allK)
        {
            leafs[i]-&gt;left = leafs[2*i+1];
        }
        if (2*i+2 &lt; allK)
        {
            leafs[i]-&gt;right = leafs[2*i+2];
        }
    }
    
    root = leafs[0];
    
    return root;
}
</code></pre>

<h4 id="toc_7">非递归方式的创建</h4>

<ul>
<li>1.按照层次的遍历的思路进行创建</li>
</ul>

<pre><code class="language-cpp">Node * createTreeWithValues(int *values, int len)
{
    Node *pNodes[len];
    for (int i = 0; i &lt; len; i++)
    {
        Node *preNode = new Node();
        preNode-&gt;data = values[i];
        pNodes[i] = preNode;
    }
    //首先考虑的是将数组一分为2
    //2n+1,为左叶子节点，2n+2,为右叶子节点
    for(int i = 0; i &lt; len/2; i++)
    {
        if (2*i+1 &lt; len)
        {
            pNodes[i]-&gt;left = pNodes[2*i+1];
        }
        if (2*i+2 &lt; len)
        {
            pNodes[i]-&gt;right = pNodes[2*i+2];
        }
    } 
    return pNodes[0];
}
</code></pre>

<h3 id="toc_8">二叉树中某个位置的节点</h3>

<p>类似索引操作，按层次遍历，位置从0开始计算，从左到右边</p>

<pre><code class="language-cpp">Node* findIndexNode(Node *p , int index)
{
    if (index == 0) return p;
    std::queue&lt;Node *&gt; queueList;
    queueList.push(p);
    while (!queueList.empty())
    {
        index--;
        Node *preNode = queueList.front();
        queueList.pop();
        if (index == 0)
        {
            return preNode;
        }
        if (preNode-&gt;left)
        {
            queueList.push(preNode-&gt;left);
        }
        if (preNode-&gt;right)
        {
            queueList.push(preNode-&gt;right);
        }         
    }
    return NULL;
}
</code></pre>

<h2 id="toc_9">常见题目</h2>

<h3 id="toc_10">求二叉树中的节点个数</h3>

<p>递归解法：<br/>
1.如果二叉树为空，节点个数为0<br/>
2.如果二叉树不为空，节点个数 = 左子树叶子个数 + 右子树叶子个数</p>

<pre><code class="language-cpp">int count = 0;
void GetNodeNum(Node *p, int count)
{
    if (p == NULL)// 递归出口
    {
        return;
    }
    GetNodeNum(p-&gt;left);
    GetNodeNum(p-&gt;right);
    count++;
}

int GetNodeNum(Node *p)
{
    if (p == NULL)// 递归出口
    {
        return 0;
    }
    return 1 + GetNodeNum(p-&gt;left) + GetNodeNum(p-&gt;right);
}
</code></pre>

<h3 id="toc_11">求二叉树中的深度</h3>

<p>递归解法：<br/>
1.如果二叉树为空，深度为0<br/>
2.如果二叉树不为空，二叉树的深度 = max（左子树深度， 右子树深度） + 1</p>

<pre><code class="language-cpp">int GetDepth(Node *p)
{
    if (p == NULL)
    {
        return 0;
    }
    int depthLeft = GetDepth(p-&gt;left);
    int depthRight = GetDepth(p-&gt;right);
    return depthLeft &gt; depthRight ? (depthLeft + 1) : (depthRight + 1);
}
</code></pre>

<h3 id="toc_12">前序遍历，中序遍历，后续遍历</h3>

<h3 id="toc_13">分层遍历二叉树（按层次从上往下，从左边往右）</h3>

<h3 id="toc_14">将二叉树查找树变为有序的双向链表</h3>


    

      </div>

      <div class="row">
        <div class="large-6 columns">
        <p class="text-left" style="padding:15px 0px;">
      
          <a href="15409843239504.html" 
          title="Previous Post: 红-黑树">&laquo; 红-黑树</a>
      
        </p>
        </div>
        <div class="large-6 columns">
      <p class="text-right" style="padding:15px 0px;">
      
          <a  href="15404623797917.html" 
          title="Next Post: 堆排序">堆排序 &raquo;</a>
      
      </p>
        </div>
      </div>
      <div class="comments-wrap">
        <div class="share-comments">
          

          

          
        </div>
      </div>
    </div><!-- article-wrap -->
  </div><!-- large 8 -->




 <div class="large-4 medium-4 columns">
  <div class="hide-for-small">
    <div id="sidebar" class="sidebar">
          <div id="site-info" class="site-info">
            
                <h1></h1>
                <div class="site-des"></div>
                <div class="social">











  <a target="_blank" class="rss" href="atom.xml" title="RSS">RSS</a>
                
              	 </div>
          	</div>

             

              <div id="site-categories" class="side-item ">
                <div class="side-header">
                  <h2>Categories</h2>
                </div>
                <div class="side-content">

      	<p class="cat-list">
        
            <a href="xunlei.html"><strong>迅雷</strong></a>
        
            <a href="other.html"><strong>其它</strong></a>
        
            <a href="mindcase.html"><strong>有意思的参考</strong></a>
         
        </p>


                </div>
              </div>

              <div id="site-categories" class="side-item">
                <div class="side-header">
                  <h2>Recent Posts</h2>
                </div>
                <div class="side-content">
                <ul class="posts-list">
	      
		      
			      <li class="post">
			        <a href="15411228257252.html">默克尔哈希树</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15411227973182.html">汗诺塔</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15409843239504.html">红-黑树</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15409843145989.html">二叉树</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15404623797917.html">堆排序</a>
			      </li>
		     
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		   
		  		</ul>
                </div>
              </div>
        </div><!-- sidebar -->
      </div><!-- hide for small -->
</div><!-- large 4 -->

</div><!-- row -->

 <div class="page-bottom clearfix">
  <div class="row">
   <p class="copyright">Copyright &copy; 2018
Powered by <a target="_blank" href="http://www.mweb.im">MWeb</a>,&nbsp; 
Theme used <a target="_blank" href="http://github.com">GitHub CSS</a>.</p>
  </div>
</div>

        </section>
      </div>
    </div>

  
    

    <script src="asset/js/foundation.min.js"></script>
    <script>
      $(document).foundation();
      function fixSidebarHeight(){
        var w1 = $('.markdown-body').height();
          var w2 = $('#sidebar').height();
          if (w1 > w2) { $('#sidebar').height(w1); };
      }
      $(function(){
        fixSidebarHeight();
      })
      $(window).load(function(){
          fixSidebarHeight();
      });
     
    </script>

    



  </body>
</html>
